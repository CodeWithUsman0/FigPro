"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/slate-history";
exports.ids = ["vendor-chunks/slate-history"];
exports.modules = {

/***/ "(ssr)/./node_modules/slate-history/dist/index.es.js":
/*!*****************************************************!*\
  !*** ./node_modules/slate-history/dist/index.es.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HISTORY: () => (/* binding */ HISTORY),\n/* harmony export */   History: () => (/* binding */ History),\n/* harmony export */   HistoryEditor: () => (/* binding */ HistoryEditor),\n/* harmony export */   MERGING: () => (/* binding */ MERGING),\n/* harmony export */   SAVING: () => (/* binding */ SAVING),\n/* harmony export */   withHistory: () => (/* binding */ withHistory)\n/* harmony export */ });\n/* harmony import */ var is_plain_object__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! is-plain-object */ \"(ssr)/./node_modules/is-plain-object/dist/is-plain-object.mjs\");\n/* harmony import */ var slate__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! slate */ \"(ssr)/./node_modules/slate/dist/index.es.js\");\n\n\nvar History = {\n    /**\r\n   * Check if a value is a `History` object.\r\n   */ isHistory (value) {\n        return (0,is_plain_object__WEBPACK_IMPORTED_MODULE_0__.isPlainObject)(value) && Array.isArray(value.redos) && Array.isArray(value.undos) && (value.redos.length === 0 || slate__WEBPACK_IMPORTED_MODULE_1__.Operation.isOperationList(value.redos[0].operations)) && (value.undos.length === 0 || slate__WEBPACK_IMPORTED_MODULE_1__.Operation.isOperationList(value.undos[0].operations));\n    }\n};\n/**\r\n * Weakmaps for attaching state to the editor.\r\n */ var HISTORY = new WeakMap();\nvar SAVING = new WeakMap();\nvar MERGING = new WeakMap(); // eslint-disable-next-line no-redeclare\nvar HistoryEditor = {\n    /**\r\n   * Check if a value is a `HistoryEditor` object.\r\n   */ isHistoryEditor (value) {\n        return History.isHistory(value.history) && slate__WEBPACK_IMPORTED_MODULE_1__.Editor.isEditor(value);\n    },\n    /**\r\n   * Get the merge flag's current value.\r\n   */ isMerging (editor) {\n        return MERGING.get(editor);\n    },\n    /**\r\n   * Get the saving flag's current value.\r\n   */ isSaving (editor) {\n        return SAVING.get(editor);\n    },\n    /**\r\n   * Redo to the previous saved state.\r\n   */ redo (editor) {\n        editor.redo();\n    },\n    /**\r\n   * Undo to the previous saved state.\r\n   */ undo (editor) {\n        editor.undo();\n    },\n    /**\r\n   * Apply a series of changes inside a synchronous `fn`, without merging any of\r\n   * the new operations into previous save point in the history.\r\n   */ withoutMerging (editor, fn) {\n        var prev = HistoryEditor.isMerging(editor);\n        MERGING.set(editor, false);\n        fn();\n        MERGING.set(editor, prev);\n    },\n    /**\r\n   * Apply a series of changes inside a synchronous `fn`, without saving any of\r\n   * their operations into the history.\r\n   */ withoutSaving (editor, fn) {\n        var prev = HistoryEditor.isSaving(editor);\n        SAVING.set(editor, false);\n        fn();\n        SAVING.set(editor, prev);\n    }\n};\n/**\r\n * The `withHistory` plugin keeps track of the operation history of a Slate\r\n * editor as operations are applied to it, using undo and redo stacks.\r\n *\r\n * If you are using TypeScript, you must extend Slate's CustomTypes to use\r\n * this plugin.\r\n *\r\n * See https://docs.slatejs.org/concepts/11-typescript to learn how.\r\n */ var withHistory = (editor)=>{\n    var e = editor;\n    var { apply } = e;\n    e.history = {\n        undos: [],\n        redos: []\n    };\n    e.redo = ()=>{\n        var { history } = e;\n        var { redos } = history;\n        if (redos.length > 0) {\n            var batch = redos[redos.length - 1];\n            if (batch.selectionBefore) {\n                slate__WEBPACK_IMPORTED_MODULE_1__.Transforms.setSelection(e, batch.selectionBefore);\n            }\n            HistoryEditor.withoutSaving(e, ()=>{\n                slate__WEBPACK_IMPORTED_MODULE_1__.Editor.withoutNormalizing(e, ()=>{\n                    for (var op of batch.operations){\n                        e.apply(op);\n                    }\n                });\n            });\n            history.redos.pop();\n            e.writeHistory(\"undos\", batch);\n        }\n    };\n    e.undo = ()=>{\n        var { history } = e;\n        var { undos } = history;\n        if (undos.length > 0) {\n            var batch = undos[undos.length - 1];\n            HistoryEditor.withoutSaving(e, ()=>{\n                slate__WEBPACK_IMPORTED_MODULE_1__.Editor.withoutNormalizing(e, ()=>{\n                    var inverseOps = batch.operations.map(slate__WEBPACK_IMPORTED_MODULE_1__.Operation.inverse).reverse();\n                    for (var op of inverseOps){\n                        e.apply(op);\n                    }\n                    if (batch.selectionBefore) {\n                        slate__WEBPACK_IMPORTED_MODULE_1__.Transforms.setSelection(e, batch.selectionBefore);\n                    }\n                });\n            });\n            e.writeHistory(\"redos\", batch);\n            history.undos.pop();\n        }\n    };\n    e.apply = (op)=>{\n        var { operations, history } = e;\n        var { undos } = history;\n        var lastBatch = undos[undos.length - 1];\n        var lastOp = lastBatch && lastBatch.operations[lastBatch.operations.length - 1];\n        var save = HistoryEditor.isSaving(e);\n        var merge = HistoryEditor.isMerging(e);\n        if (save == null) {\n            save = shouldSave(op);\n        }\n        if (save) {\n            if (merge == null) {\n                if (lastBatch == null) {\n                    merge = false;\n                } else if (operations.length !== 0) {\n                    merge = true;\n                } else {\n                    merge = shouldMerge(op, lastOp);\n                }\n            }\n            if (lastBatch && merge) {\n                lastBatch.operations.push(op);\n            } else {\n                var batch = {\n                    operations: [\n                        op\n                    ],\n                    selectionBefore: e.selection\n                };\n                e.writeHistory(\"undos\", batch);\n            }\n            while(undos.length > 100){\n                undos.shift();\n            }\n            history.redos = [];\n        }\n        apply(op);\n    };\n    e.writeHistory = (stack, batch)=>{\n        e.history[stack].push(batch);\n    };\n    return e;\n};\n/**\r\n * Check whether to merge an operation into the previous operation.\r\n */ var shouldMerge = (op, prev)=>{\n    if (prev && op.type === \"insert_text\" && prev.type === \"insert_text\" && op.offset === prev.offset + prev.text.length && slate__WEBPACK_IMPORTED_MODULE_1__.Path.equals(op.path, prev.path)) {\n        return true;\n    }\n    if (prev && op.type === \"remove_text\" && prev.type === \"remove_text\" && op.offset + op.text.length === prev.offset && slate__WEBPACK_IMPORTED_MODULE_1__.Path.equals(op.path, prev.path)) {\n        return true;\n    }\n    return false;\n};\n/**\r\n * Check whether an operation needs to be saved to the history.\r\n */ var shouldSave = (op, prev)=>{\n    if (op.type === \"set_selection\") {\n        return false;\n    }\n    return true;\n};\n //# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc2xhdGUtaGlzdG9yeS9kaXN0L2luZGV4LmVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQWdEO0FBQ1k7QUFFNUQsSUFBSUssVUFBVTtJQUNaOztHQUVDLEdBQ0RDLFdBQVVDLEtBQUs7UUFDYixPQUFPUCw4REFBYUEsQ0FBQ08sVUFBVUMsTUFBTUMsT0FBTyxDQUFDRixNQUFNRyxLQUFLLEtBQUtGLE1BQU1DLE9BQU8sQ0FBQ0YsTUFBTUksS0FBSyxLQUFNSixDQUFBQSxNQUFNRyxLQUFLLENBQUNFLE1BQU0sS0FBSyxLQUFLWCw0Q0FBU0EsQ0FBQ1ksZUFBZSxDQUFDTixNQUFNRyxLQUFLLENBQUMsRUFBRSxDQUFDSSxVQUFVLE1BQU9QLENBQUFBLE1BQU1JLEtBQUssQ0FBQ0MsTUFBTSxLQUFLLEtBQUtYLDRDQUFTQSxDQUFDWSxlQUFlLENBQUNOLE1BQU1JLEtBQUssQ0FBQyxFQUFFLENBQUNHLFVBQVU7SUFDblE7QUFFRjtBQUVBOztDQUVDLEdBRUQsSUFBSUMsVUFBVSxJQUFJQztBQUNsQixJQUFJQyxTQUFTLElBQUlEO0FBQ2pCLElBQUlFLFVBQVUsSUFBSUYsV0FBVyx3Q0FBd0M7QUFFckUsSUFBSUcsZ0JBQWdCO0lBQ2xCOztHQUVDLEdBQ0RDLGlCQUFnQmIsS0FBSztRQUNuQixPQUFPRixRQUFRQyxTQUFTLENBQUNDLE1BQU1jLE9BQU8sS0FBS25CLHlDQUFNQSxDQUFDb0IsUUFBUSxDQUFDZjtJQUM3RDtJQUVBOztHQUVDLEdBQ0RnQixXQUFVQyxNQUFNO1FBQ2QsT0FBT04sUUFBUU8sR0FBRyxDQUFDRDtJQUNyQjtJQUVBOztHQUVDLEdBQ0RFLFVBQVNGLE1BQU07UUFDYixPQUFPUCxPQUFPUSxHQUFHLENBQUNEO0lBQ3BCO0lBRUE7O0dBRUMsR0FDREcsTUFBS0gsTUFBTTtRQUNUQSxPQUFPRyxJQUFJO0lBQ2I7SUFFQTs7R0FFQyxHQUNEQyxNQUFLSixNQUFNO1FBQ1RBLE9BQU9JLElBQUk7SUFD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aUJBQWlCM0IsS0FBSzJCLElBQUksS0FBSyxpQkFBaUJqQixHQUFHa0IsTUFBTSxHQUFHbEIsR0FBR21CLElBQUksQ0FBQ2hELE1BQU0sS0FBS21CLEtBQUs0QixNQUFNLElBQUl2RCx1Q0FBSUEsQ0FBQ3lELE1BQU0sQ0FBQ3BCLEdBQUdxQixJQUFJLEVBQUUvQixLQUFLK0IsSUFBSSxHQUFHO1FBQ3JKLE9BQU87SUFDVDtJQUVBLE9BQU87QUFDVDtBQUNBOztDQUVDLEdBR0QsSUFBSVYsYUFBYSxDQUFDWCxJQUFJVjtJQUNwQixJQUFJVSxHQUFHaUIsSUFBSSxLQUFLLGlCQUFpQjtRQUMvQixPQUFPO0lBQ1Q7SUFFQSxPQUFPO0FBQ1Q7QUFFeUUsQ0FDekUsb0NBQW9DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGlnbWEvLi9ub2RlX21vZHVsZXMvc2xhdGUtaGlzdG9yeS9kaXN0L2luZGV4LmVzLmpzPzA0ZjQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNQbGFpbk9iamVjdCB9IGZyb20gJ2lzLXBsYWluLW9iamVjdCc7XG5pbXBvcnQgeyBPcGVyYXRpb24sIEVkaXRvciwgVHJhbnNmb3JtcywgUGF0aCB9IGZyb20gJ3NsYXRlJztcblxudmFyIEhpc3RvcnkgPSB7XG4gIC8qKlxyXG4gICAqIENoZWNrIGlmIGEgdmFsdWUgaXMgYSBgSGlzdG9yeWAgb2JqZWN0LlxyXG4gICAqL1xuICBpc0hpc3RvcnkodmFsdWUpIHtcbiAgICByZXR1cm4gaXNQbGFpbk9iamVjdCh2YWx1ZSkgJiYgQXJyYXkuaXNBcnJheSh2YWx1ZS5yZWRvcykgJiYgQXJyYXkuaXNBcnJheSh2YWx1ZS51bmRvcykgJiYgKHZhbHVlLnJlZG9zLmxlbmd0aCA9PT0gMCB8fCBPcGVyYXRpb24uaXNPcGVyYXRpb25MaXN0KHZhbHVlLnJlZG9zWzBdLm9wZXJhdGlvbnMpKSAmJiAodmFsdWUudW5kb3MubGVuZ3RoID09PSAwIHx8IE9wZXJhdGlvbi5pc09wZXJhdGlvbkxpc3QodmFsdWUudW5kb3NbMF0ub3BlcmF0aW9ucykpO1xuICB9XG5cbn07XG5cbi8qKlxyXG4gKiBXZWFrbWFwcyBmb3IgYXR0YWNoaW5nIHN0YXRlIHRvIHRoZSBlZGl0b3IuXHJcbiAqL1xuXG52YXIgSElTVE9SWSA9IG5ldyBXZWFrTWFwKCk7XG52YXIgU0FWSU5HID0gbmV3IFdlYWtNYXAoKTtcbnZhciBNRVJHSU5HID0gbmV3IFdlYWtNYXAoKTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlZGVjbGFyZVxuXG52YXIgSGlzdG9yeUVkaXRvciA9IHtcbiAgLyoqXHJcbiAgICogQ2hlY2sgaWYgYSB2YWx1ZSBpcyBhIGBIaXN0b3J5RWRpdG9yYCBvYmplY3QuXHJcbiAgICovXG4gIGlzSGlzdG9yeUVkaXRvcih2YWx1ZSkge1xuICAgIHJldHVybiBIaXN0b3J5LmlzSGlzdG9yeSh2YWx1ZS5oaXN0b3J5KSAmJiBFZGl0b3IuaXNFZGl0b3IodmFsdWUpO1xuICB9LFxuXG4gIC8qKlxyXG4gICAqIEdldCB0aGUgbWVyZ2UgZmxhZydzIGN1cnJlbnQgdmFsdWUuXHJcbiAgICovXG4gIGlzTWVyZ2luZyhlZGl0b3IpIHtcbiAgICByZXR1cm4gTUVSR0lORy5nZXQoZWRpdG9yKTtcbiAgfSxcblxuICAvKipcclxuICAgKiBHZXQgdGhlIHNhdmluZyBmbGFnJ3MgY3VycmVudCB2YWx1ZS5cclxuICAgKi9cbiAgaXNTYXZpbmcoZWRpdG9yKSB7XG4gICAgcmV0dXJuIFNBVklORy5nZXQoZWRpdG9yKTtcbiAgfSxcblxuICAvKipcclxuICAgKiBSZWRvIHRvIHRoZSBwcmV2aW91cyBzYXZlZCBzdGF0ZS5cclxuICAgKi9cbiAgcmVkbyhlZGl0b3IpIHtcbiAgICBlZGl0b3IucmVkbygpO1xuICB9LFxuXG4gIC8qKlxyXG4gICAqIFVuZG8gdG8gdGhlIHByZXZpb3VzIHNhdmVkIHN0YXRlLlxyXG4gICAqL1xuICB1bmRvKGVkaXRvcikge1xuICAgIGVkaXRvci51bmRvKCk7XG4gIH0sXG5cbiAgLyoqXHJcbiAgICogQXBwbHkgYSBzZXJpZXMgb2YgY2hhbmdlcyBpbnNpZGUgYSBzeW5jaHJvbm91cyBgZm5gLCB3aXRob3V0IG1lcmdpbmcgYW55IG9mXHJcbiAgICogdGhlIG5ldyBvcGVyYXRpb25zIGludG8gcHJldmlvdXMgc2F2ZSBwb2ludCBpbiB0aGUgaGlzdG9yeS5cclxuICAgKi9cbiAgd2l0aG91dE1lcmdpbmcoZWRpdG9yLCBmbikge1xuICAgIHZhciBwcmV2ID0gSGlzdG9yeUVkaXRvci5pc01lcmdpbmcoZWRpdG9yKTtcbiAgICBNRVJHSU5HLnNldChlZGl0b3IsIGZhbHNlKTtcbiAgICBmbigpO1xuICAgIE1FUkdJTkcuc2V0KGVkaXRvciwgcHJldik7XG4gIH0sXG5cbiAgLyoqXHJcbiAgICogQXBwbHkgYSBzZXJpZXMgb2YgY2hhbmdlcyBpbnNpZGUgYSBzeW5jaHJvbm91cyBgZm5gLCB3aXRob3V0IHNhdmluZyBhbnkgb2ZcclxuICAgKiB0aGVpciBvcGVyYXRpb25zIGludG8gdGhlIGhpc3RvcnkuXHJcbiAgICovXG4gIHdpdGhvdXRTYXZpbmcoZWRpdG9yLCBmbikge1xuICAgIHZhciBwcmV2ID0gSGlzdG9yeUVkaXRvci5pc1NhdmluZyhlZGl0b3IpO1xuICAgIFNBVklORy5zZXQoZWRpdG9yLCBmYWxzZSk7XG4gICAgZm4oKTtcbiAgICBTQVZJTkcuc2V0KGVkaXRvciwgcHJldik7XG4gIH1cblxufTtcblxuLyoqXHJcbiAqIFRoZSBgd2l0aEhpc3RvcnlgIHBsdWdpbiBrZWVwcyB0cmFjayBvZiB0aGUgb3BlcmF0aW9uIGhpc3Rvcnkgb2YgYSBTbGF0ZVxyXG4gKiBlZGl0b3IgYXMgb3BlcmF0aW9ucyBhcmUgYXBwbGllZCB0byBpdCwgdXNpbmcgdW5kbyBhbmQgcmVkbyBzdGFja3MuXHJcbiAqXHJcbiAqIElmIHlvdSBhcmUgdXNpbmcgVHlwZVNjcmlwdCwgeW91IG11c3QgZXh0ZW5kIFNsYXRlJ3MgQ3VzdG9tVHlwZXMgdG8gdXNlXHJcbiAqIHRoaXMgcGx1Z2luLlxyXG4gKlxyXG4gKiBTZWUgaHR0cHM6Ly9kb2NzLnNsYXRlanMub3JnL2NvbmNlcHRzLzExLXR5cGVzY3JpcHQgdG8gbGVhcm4gaG93LlxyXG4gKi9cblxudmFyIHdpdGhIaXN0b3J5ID0gZWRpdG9yID0+IHtcbiAgdmFyIGUgPSBlZGl0b3I7XG4gIHZhciB7XG4gICAgYXBwbHlcbiAgfSA9IGU7XG4gIGUuaGlzdG9yeSA9IHtcbiAgICB1bmRvczogW10sXG4gICAgcmVkb3M6IFtdXG4gIH07XG5cbiAgZS5yZWRvID0gKCkgPT4ge1xuICAgIHZhciB7XG4gICAgICBoaXN0b3J5XG4gICAgfSA9IGU7XG4gICAgdmFyIHtcbiAgICAgIHJlZG9zXG4gICAgfSA9IGhpc3Rvcnk7XG5cbiAgICBpZiAocmVkb3MubGVuZ3RoID4gMCkge1xuICAgICAgdmFyIGJhdGNoID0gcmVkb3NbcmVkb3MubGVuZ3RoIC0gMV07XG5cbiAgICAgIGlmIChiYXRjaC5zZWxlY3Rpb25CZWZvcmUpIHtcbiAgICAgICAgVHJhbnNmb3Jtcy5zZXRTZWxlY3Rpb24oZSwgYmF0Y2guc2VsZWN0aW9uQmVmb3JlKTtcbiAgICAgIH1cblxuICAgICAgSGlzdG9yeUVkaXRvci53aXRob3V0U2F2aW5nKGUsICgpID0+IHtcbiAgICAgICAgRWRpdG9yLndpdGhvdXROb3JtYWxpemluZyhlLCAoKSA9PiB7XG4gICAgICAgICAgZm9yICh2YXIgb3Agb2YgYmF0Y2gub3BlcmF0aW9ucykge1xuICAgICAgICAgICAgZS5hcHBseShvcCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgaGlzdG9yeS5yZWRvcy5wb3AoKTtcbiAgICAgIGUud3JpdGVIaXN0b3J5KCd1bmRvcycsIGJhdGNoKTtcbiAgICB9XG4gIH07XG5cbiAgZS51bmRvID0gKCkgPT4ge1xuICAgIHZhciB7XG4gICAgICBoaXN0b3J5XG4gICAgfSA9IGU7XG4gICAgdmFyIHtcbiAgICAgIHVuZG9zXG4gICAgfSA9IGhpc3Rvcnk7XG5cbiAgICBpZiAodW5kb3MubGVuZ3RoID4gMCkge1xuICAgICAgdmFyIGJhdGNoID0gdW5kb3NbdW5kb3MubGVuZ3RoIC0gMV07XG4gICAgICBIaXN0b3J5RWRpdG9yLndpdGhvdXRTYXZpbmcoZSwgKCkgPT4ge1xuICAgICAgICBFZGl0b3Iud2l0aG91dE5vcm1hbGl6aW5nKGUsICgpID0+IHtcbiAgICAgICAgICB2YXIgaW52ZXJzZU9wcyA9IGJhdGNoLm9wZXJhdGlvbnMubWFwKE9wZXJhdGlvbi5pbnZlcnNlKS5yZXZlcnNlKCk7XG5cbiAgICAgICAgICBmb3IgKHZhciBvcCBvZiBpbnZlcnNlT3BzKSB7XG4gICAgICAgICAgICBlLmFwcGx5KG9wKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoYmF0Y2guc2VsZWN0aW9uQmVmb3JlKSB7XG4gICAgICAgICAgICBUcmFuc2Zvcm1zLnNldFNlbGVjdGlvbihlLCBiYXRjaC5zZWxlY3Rpb25CZWZvcmUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIGUud3JpdGVIaXN0b3J5KCdyZWRvcycsIGJhdGNoKTtcbiAgICAgIGhpc3RvcnkudW5kb3MucG9wKCk7XG4gICAgfVxuICB9O1xuXG4gIGUuYXBwbHkgPSBvcCA9PiB7XG4gICAgdmFyIHtcbiAgICAgIG9wZXJhdGlvbnMsXG4gICAgICBoaXN0b3J5XG4gICAgfSA9IGU7XG4gICAgdmFyIHtcbiAgICAgIHVuZG9zXG4gICAgfSA9IGhpc3Rvcnk7XG4gICAgdmFyIGxhc3RCYXRjaCA9IHVuZG9zW3VuZG9zLmxlbmd0aCAtIDFdO1xuICAgIHZhciBsYXN0T3AgPSBsYXN0QmF0Y2ggJiYgbGFzdEJhdGNoLm9wZXJhdGlvbnNbbGFzdEJhdGNoLm9wZXJhdGlvbnMubGVuZ3RoIC0gMV07XG4gICAgdmFyIHNhdmUgPSBIaXN0b3J5RWRpdG9yLmlzU2F2aW5nKGUpO1xuICAgIHZhciBtZXJnZSA9IEhpc3RvcnlFZGl0b3IuaXNNZXJnaW5nKGUpO1xuXG4gICAgaWYgKHNhdmUgPT0gbnVsbCkge1xuICAgICAgc2F2ZSA9IHNob3VsZFNhdmUob3ApO1xuICAgIH1cblxuICAgIGlmIChzYXZlKSB7XG4gICAgICBpZiAobWVyZ2UgPT0gbnVsbCkge1xuICAgICAgICBpZiAobGFzdEJhdGNoID09IG51bGwpIHtcbiAgICAgICAgICBtZXJnZSA9IGZhbHNlO1xuICAgICAgICB9IGVsc2UgaWYgKG9wZXJhdGlvbnMubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgbWVyZ2UgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1lcmdlID0gc2hvdWxkTWVyZ2Uob3AsIGxhc3RPcCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGxhc3RCYXRjaCAmJiBtZXJnZSkge1xuICAgICAgICBsYXN0QmF0Y2gub3BlcmF0aW9ucy5wdXNoKG9wKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBiYXRjaCA9IHtcbiAgICAgICAgICBvcGVyYXRpb25zOiBbb3BdLFxuICAgICAgICAgIHNlbGVjdGlvbkJlZm9yZTogZS5zZWxlY3Rpb25cbiAgICAgICAgfTtcbiAgICAgICAgZS53cml0ZUhpc3RvcnkoJ3VuZG9zJywgYmF0Y2gpO1xuICAgICAgfVxuXG4gICAgICB3aGlsZSAodW5kb3MubGVuZ3RoID4gMTAwKSB7XG4gICAgICAgIHVuZG9zLnNoaWZ0KCk7XG4gICAgICB9XG5cbiAgICAgIGhpc3RvcnkucmVkb3MgPSBbXTtcbiAgICB9XG5cbiAgICBhcHBseShvcCk7XG4gIH07XG5cbiAgZS53cml0ZUhpc3RvcnkgPSAoc3RhY2ssIGJhdGNoKSA9PiB7XG4gICAgZS5oaXN0b3J5W3N0YWNrXS5wdXNoKGJhdGNoKTtcbiAgfTtcblxuICByZXR1cm4gZTtcbn07XG4vKipcclxuICogQ2hlY2sgd2hldGhlciB0byBtZXJnZSBhbiBvcGVyYXRpb24gaW50byB0aGUgcHJldmlvdXMgb3BlcmF0aW9uLlxyXG4gKi9cblxudmFyIHNob3VsZE1lcmdlID0gKG9wLCBwcmV2KSA9PiB7XG4gIGlmIChwcmV2ICYmIG9wLnR5cGUgPT09ICdpbnNlcnRfdGV4dCcgJiYgcHJldi50eXBlID09PSAnaW5zZXJ0X3RleHQnICYmIG9wLm9mZnNldCA9PT0gcHJldi5vZmZzZXQgKyBwcmV2LnRleHQubGVuZ3RoICYmIFBhdGguZXF1YWxzKG9wLnBhdGgsIHByZXYucGF0aCkpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGlmIChwcmV2ICYmIG9wLnR5cGUgPT09ICdyZW1vdmVfdGV4dCcgJiYgcHJldi50eXBlID09PSAncmVtb3ZlX3RleHQnICYmIG9wLm9mZnNldCArIG9wLnRleHQubGVuZ3RoID09PSBwcmV2Lm9mZnNldCAmJiBQYXRoLmVxdWFscyhvcC5wYXRoLCBwcmV2LnBhdGgpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59O1xuLyoqXHJcbiAqIENoZWNrIHdoZXRoZXIgYW4gb3BlcmF0aW9uIG5lZWRzIHRvIGJlIHNhdmVkIHRvIHRoZSBoaXN0b3J5LlxyXG4gKi9cblxuXG52YXIgc2hvdWxkU2F2ZSA9IChvcCwgcHJldikgPT4ge1xuICBpZiAob3AudHlwZSA9PT0gJ3NldF9zZWxlY3Rpb24nKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuXG5leHBvcnQgeyBISVNUT1JZLCBIaXN0b3J5LCBIaXN0b3J5RWRpdG9yLCBNRVJHSU5HLCBTQVZJTkcsIHdpdGhIaXN0b3J5IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5lcy5qcy5tYXBcbiJdLCJuYW1lcyI6WyJpc1BsYWluT2JqZWN0IiwiT3BlcmF0aW9uIiwiRWRpdG9yIiwiVHJhbnNmb3JtcyIsIlBhdGgiLCJIaXN0b3J5IiwiaXNIaXN0b3J5IiwidmFsdWUiLCJBcnJheSIsImlzQXJyYXkiLCJyZWRvcyIsInVuZG9zIiwibGVuZ3RoIiwiaXNPcGVyYXRpb25MaXN0Iiwib3BlcmF0aW9ucyIsIkhJU1RPUlkiLCJXZWFrTWFwIiwiU0FWSU5HIiwiTUVSR0lORyIsIkhpc3RvcnlFZGl0b3IiLCJpc0hpc3RvcnlFZGl0b3IiLCJoaXN0b3J5IiwiaXNFZGl0b3IiLCJpc01lcmdpbmciLCJlZGl0b3IiLCJnZXQiLCJpc1NhdmluZyIsInJlZG8iLCJ1bmRvIiwid2l0aG91dE1lcmdpbmciLCJmbiIsInByZXYiLCJzZXQiLCJ3aXRob3V0U2F2aW5nIiwid2l0aEhpc3RvcnkiLCJlIiwiYXBwbHkiLCJiYXRjaCIsInNlbGVjdGlvbkJlZm9yZSIsInNldFNlbGVjdGlvbiIsIndpdGhvdXROb3JtYWxpemluZyIsIm9wIiwicG9wIiwid3JpdGVIaXN0b3J5IiwiaW52ZXJzZU9wcyIsIm1hcCIsImludmVyc2UiLCJyZXZlcnNlIiwibGFzdEJhdGNoIiwibGFzdE9wIiwic2F2ZSIsIm1lcmdlIiwic2hvdWxkU2F2ZSIsInNob3VsZE1lcmdlIiwicHVzaCIsInNlbGVjdGlvbiIsInNoaWZ0Iiwic3RhY2siLCJ0eXBlIiwib2Zmc2V0IiwidGV4dCIsImVxdWFscyIsInBhdGgiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/slate-history/dist/index.es.js\n");

/***/ })

};
;